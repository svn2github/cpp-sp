# ADD THIS TO THE END OF YOUR APACHE'S HTTPD.CONF

######
## SHIB Config
######

LoadModule shibrm_module /opt/shibboleth/libexec/mod_shibrm.so
LoadModule shire_module /opt/shibboleth/libexec/mod_shire.so

# Global SHIRE Configuration
SHIREConfig /opt/shibboleth/etc/shibboleth/shibboleth.ini

# Set the SHIRE POST processor URL
SHIREURL /shibboleth/SHIRE
<Location /shibboleth/SHIRE>
  SetHandler shib-shire-post
</Location>

# Basic Attribute Mappings
ShibMapAttribute urn:mace:eduPerson:1.0:eduPersonPrincipalName REMOTE_USER
ShibMapAttribute urn:mace:eduPerson:1.0:eduPersonAffiliation Shib-EP-Affiliation affiliation
ShibMapAttribute urn:mace:eduPerson:1.0:eduPersonEntitlement Shib-EP-Entitlement entitlement

# Configure a test directory
<Location /secure>
  AuthType shibboleth
  require valid-user

  # Per-directory SHIRE Configuration
  #ShibBasicHijack On
  #ShibSSLOnly On
  #ShibAuthLifetime 60
  #ShibAuthTimeout 600

  # RM Configuration
  #AuthGroupFile /foo
  #ShibExportAssertion On
</Location>
